# 数组字面量

使用字面量来创建数组

语法：[]

```javascript
var arr = new Array()
var arr = []
var arr = [1,2,3,4,5,10]
var arr = new Array(10,20,20)
//创建一个数组，其中只有一个元素10
var arr = [10]
//创建一个长度为10得数组
var arr = new Array(10)
```

使用字面量创建数组时，可以在创建得时候就指定数组中得元素

使用构造函数创造数组时，也可以同时添加元素，将添加得元素作为构造函数得参数传递。元素之间使用，隔开。

arr = [10] //创建一个数组，其中只有一个元素10

var arr = new Array(10) //创建一个长度为10得数组



数组中得元素可以时任意得数据类型

arr = ["hello", 1,  true, null, undefine]

也可以是一个对象

var obj = {name: "孙悟空"}

arr[arr.length] = obj

也可以是一个函数

也可以是数组

# 数组的四个方法

var arr = ["孙悟空", "猪八戒", "沙和尚"]

## push

该方法可以向数组的末尾添加一个或多个元素，并返回新的长度

可以将要添加的元素作为方法的参数传递

-这样元素将自动添加到数组的末尾

var result = arr.push("唐僧")

var result = arr.push("唐僧", "蜘蛛精", "白骨精")

返回值值为新生成的数组的长度

## pop

该方法可以删除数组的最后一个元素

arr.pop()

返回值为被删除的元素

## unshift

向数组的开头添加一个或多个函数，并返回新的数组的长度

arr.unshift("牛魔王")

arr.unshift("牛魔王", "二郎神")

向前面插入元素以后，其他元素的索引会一次调整

## shift

删除并返回数组的第一个元素

arr.shift()



# 数组的遍历

所谓遍历数组，就是将数组中的所有元素都取出来

var arr = ["孙悟空", "猪八戒", "沙和尚"]

## forEach

一般我们都是使用for循环遍历数组，JS中还为我们提供了一个方法，用于遍历数组forEach()

foreach() ie8和以下的不支持

forEach()需要一个函数作为参数，像这种函数由我们创建但是不由我们调用的，我们称为回调函数。数组中有几个元素，函数就会执行多少次。每次执行时，浏览器会将我们遍历到的函数以实参的形式传递进来。我们可以定义形参来读取内容。

浏览器会在回调函数中传递三个参数。

var arr = ["孙悟空", "猪八戒", "沙和尚"]

arr.forEach(function(){

​	console.log(hello)

})

arr.forEach(function(a){

​	console.log(a)

})

arr.forEach(function(a，b){

​	console.log(hello)

})

arr.forEach(function(a，b， c){

​	console.log(hello)

})

a是数组里面的对应的元素

b是数组里面的索引

c是就是我们正在遍历的数组

## slice和splice

### slice

从某个已有的数组提取指定的元素

slice()

可以用来从数组中提取指定元素。

该方法不会改变原数组，而是将截取到的元素封装到新数组中返回

参数

1. 截取开始的位置（包含开始索引）

2. 截取结束的位置（不包含结束索引）

   第二个参数可以省略不写，从开始索引往后的所有的元素

3. 索引可以传递一个负值

   如果传递一个负值，则从后往前计算

var arr = ["孙悟空", "猪八戒", "沙和尚"]

arr.slice(0, 2) //孙悟空、猪八戒

### splice

删除元素并向数组添加新元素

使用splice会影响到原数组，会将指定元素从原数组中删除。

并将被删除的元素作为返回值返回

参数

1. 第一个表示开始位置的索引
2. 表示删除的数量
3. 第三个及以后可以传递一些新的元素，这些元素将会自动插入到开始位置所以的前面

var arr = ["孙悟空", "猪八戒", "沙和尚"]

arr.splice(1, 2) // "猪八戒", "沙和尚"删除，被函数返回



var arr = ["孙悟空", "猪八戒", "沙和尚", "唐僧", "白骨精"]

var result = arr.splice(1, 1, "牛魔王", "铁山公主")

arr变为  ["孙悟空", "牛魔王", "铁山公主", "沙和尚", "唐僧", "白骨精"]

var result = arr.splice(1, 0, "牛魔王", "铁山公主")

arr变为  ["孙悟空", "牛魔王", "铁山公主", "猪八戒","沙和尚", "唐僧", "白骨精”]



## sort()

sort()可以对当前Array进行排序，它会直接修改Array的元素位置，直接调用时按照默认顺序排序：

var arr = ['B', 'C', 'A']

arr.sort()

arr; ['A', 'B', 'C']

## reverse

reverse()可以将整个Array的元素给掉一个个，也就是反转

var arr = ['one',  'two',  'three'];

arr.reverse();

arr; //['three', 'two', 'one']

## concat

concat()方法把当前的Array和另一个Array对象链接起来，并返回一个新的Array

var arr =  ['A', 'B', 'C'];

var added = arr.concat([1, 2, 3]);

var added; //['A', 'B', 'C', 1, 2, 3]

arr; //['A', 'B', 'C']

注意：concat方法并没有修改当前Array，而是返回了一个新的Array。

实际上：concat()方法可以接收任意个元素和Array，并自动将Array拆开，然后全部添加到新的Array里面。

var arr = ['A', 'B', 'C', 'D'];

arr.concat(1, 2, [3, 4]); //['A', 'B', 'C', 1, 2, 3, 4]

## join

join()方法是一个非常实用的方法，它把当前Array的每个元素都用指定的字符串串联起来，然后返回链接后的字符串

var arr = ['A', 'B', 'C', 1, 2, 3]

arr.join('-') //A-B-C-1-2-3

如果Array的元素不是字符串，将自动转换为字符串后再链接

# Map和Set

## Map

Map是一组键值对的结构，具有极快的查找速度

用JavaScript写一个Map如下：

var m = new Map([['Michael', 95], ['Bob', 75], ['Tracy', 85]])

m.get('Michael') //95

初始化Map需要一个二位数组，或者直接初始化一个空Map。Map具有以下的方法

var m = new Map();

m.set('Adam', 67)

m.set('Bob', 59)

m.has('Adam') //是否存在key Adam true

m.get('Adam') //67

m.delete('Adam')  //删除key

m.get('Adam') //undefined

由于一个key只能对应一个value，所以，多次对一个key方入value，后面的值会被冲掉

var m = new Map()

m.set('Adam', 67)

m.set('Adam', 88)

m.get('Adam') //88

## set

Set和Map类似，也是一组key的集合，但不存储value。由于key不能重复，所以，在Set中，没有重复的

key。要创建一个Set，需要提供一个Array作为输入，或者直接创建一个空Set

var s1 = new Set()

var s2 = new Set([1, 2, 3])

重复元素在Set中自动被过滤：

var s = new Set([1, 2, 3, 3, '3'])

s; Set{1, 2, 3, '3'}

可以使用add(key)方法可以添加元素到Set中，可以重复添加，但是不会有效果

s.add(4)

delete(key)方法可以删除元素

# iterable

遍历Array可以采用下标循环，遍历Map和Set就无法使用下标。为了统一集合类型，ES6标准引入了新的iterable类型，Array、Map、Set都属于该类型。

用for......of循环遍历集合，用法

```
var a = ['A', 'B', 'C'];
var s = new Set(['A', 'B', 'C']);
var m = new Map([[1, 'x'], [2, 'y'], [3, 'z']]);
for (var x of a) { // 遍历Array
    console.log(x);
}
for (var x of s) { // 遍历Set
    console.log(x);
}
for (var x of m) { // 遍历Map
    console.log(x[0] + '=' + x[1]);
}
```

然而，更好的方式是直接使用`iterable`内置的`forEach`方法，它接收一个函数，每次迭代就自动回调该函数。以`Array`为例： 

```
'use strict';
var a = ['A', 'B', 'C'];
a.forEach(function (element, index, array) {

    // element: 指向当前元素的值

    // index: 指向当前索引

    // array: 指向Array对象本身

    console.log(element + ', index = ' + index);

});

```











